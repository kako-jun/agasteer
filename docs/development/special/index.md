# 特殊リーフ

通常のリーフとは異なる動作をする仮想リーフ。

## ドキュメント一覧

| ファイル                     | 内容                                                 | 行数 |
| ---------------------------- | ---------------------------------------------------- | ---- |
| [priority.md](./priority.md) | Priorityリーフ（[1]〜[5]マーカー集約、読み取り専用） | ~290 |
| [offline.md](./offline.md)   | Offlineリーフ（ローカル専用、GitHub同期なし）        | ~100 |

## 比較

| 項目           | Priority                            | Offline                                 |
| -------------- | ----------------------------------- | --------------------------------------- |
| **リーフID**   | `__priority__`                      | `__offline__`                           |
| **表示位置**   | ホーム先頭（order: 0）              | ホーム最上位（order: -1）               |
| **保存先**     | バッジのみmetadata.json             | IndexedDB                               |
| **編集**       | 読み取り専用                        | 編集可能                                |
| **コンテンツ** | 自動生成（保存されない）            | ユーザー入力                            |
| **統計**       | 除外                                | 除外                                    |
| **バッジ**     | 設定可（metadata.jsonで永続・同期） | 設定可（IndexedDBで永続・ローカルのみ） |

### バッジ永続化の違い

- **Priority**: バッジ情報は`metadata.json`に保存され、GitHubを通じてデバイス間で同期される
- **Offline**: バッジ情報はIndexedDBに保存され、各デバイスでローカルに管理される（同期されない）

この違いは設計意図によるもの:

- Priorityリーフは全デバイスで同じ優先段落を表示するため、バッジも同期
- Offlineリーフは各デバイスで独立したメモとして使用するため、バッジもローカル管理
