# Priorityリーフ

複数のリーフに散らばった優先度付き段落を、1つにまとめて表示する機能です。

---

## 優先段落のマーキング

段落に `[n]` マーカー（nは数字）を付けます。

```markdown
[1] 最優先タスク

これは通常の段落。

重要な作業 [2]

[3] 今週中に完了させる
```

### ルール

| 位置              | パターン                         | 引用範囲     |
| ----------------- | -------------------------------- | ------------ |
| 段落の先頭行左端  | `[n] テキスト...`                | **段落全体** |
| 段落の最後行右端  | `...テキスト [n]`                | **段落全体** |
| 先頭行の右端      | `...テキスト [n]`                | その行のみ   |
| 最後行の左端      | `[n] テキスト...`                | その行のみ   |
| 中間行の先頭/末尾 | `[n] テキスト` or `テキスト [n]` | その行のみ   |

> **注意**: スペースが必須です。`テキスト[1]`（参考文献番号）や `array[0]`（配列）と区別するためです。

### 例

```markdown
[1] この段落は全体が引用される
複数行あっても
すべて含まれる

この行は対象外
[2] この行だけ引用される
この行も対象外

この段落は
全体が引用される [3]
```

- `[1]` → 段落全体（3行）
- `[2]` → 中間行1行のみ
- `[3]` → 段落全体（2行）

> **補足**: 段落全体が引用される場合、中間行のマーカーは除去されます。

---

## Priorityリーフの表示

ホーム画面の先頭に「Priority」リーフが表示されます。

- 優先度順（数字昇順）でソート
- 同じ優先度の場合はノート順・リーフ順
- クリックするとプレビューモードで開く（読み取り専用）
- カード名の横にある「ⓘ」アイコンをクリックすると、このヘルプページが開きます

---

## 出典表示

各段落の下に元のリーフ名とノート名が表示されます。

```
**[1]** 最優先タスク
_— タスク管理 @ 仕事ノート_
```

---

## 仕様

- **仮想リーフ**: GitHubには保存されない
- **リアルタイム更新**: マーカーを追加/削除すると自動反映
- **統計除外**: 文字数・行数はホームの統計に含まれない
